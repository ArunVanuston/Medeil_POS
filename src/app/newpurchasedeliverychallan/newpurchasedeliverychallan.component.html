<style>
#swidth{
    width:310px
}
</style>
<app-card>
    <div class="sub-title">Purchase Delivery Challan
        <em class="fa fa-shopping-cart ficon"></em>
    </div><br>
    <div class="panels">
    <div class="panel1" style="width:95%;float:left">
        <form [formGroup]="NpdForm" >
            <div align="right">
                <button type="button" [routerLink]="'/PurchaseDeliveryChallan/ViewPurchaseDC'" class="btn-round">View Purchase DC</button>
            </div><br>
            <!-- <div class="card" style="margin-top:8px"> -->
            <div class="card-body bg-light">
                <div class="form-group row">

                    <div class="col-lg-4">
                        
                            <label class="form-label" style="font-weight:bold">
                            {{'purchasedchallan.porder'|translate}}</label>
                            <select name="select" class="form-control" (change)="getdistributor()"  (change) ="getpoproduct()"
                                formControlName="poid">
                                <option value="opt1" selected disabled>---Select Schedule---</option>
                                <option *ngFor="let po of ponumber" value={{po[0]}}>{{po[1]}}</option>
                            </select>
                        
                    </div>

                    <!-- <div class="col-lg-4">
                        
                            <label class="form-label" style="font-weight:bold">Vendor Name</label>
                            <select name="select" class="form-control" formControlName="vendorid">
                                <option value="opt2" selected disabled>---Select Schedule---</option>
                                <option *ngFor="let dists of dist" value={{dists[0]}}> {{dists[1]}}</option>
                            </select>
                        
                    </div> -->
                     <div class="col-lg-4">
                        
                            <label class="form-label" style="font-weight:bold">{{'purchasedchallan.vendor'|translate}}</label>
                            <input type="text" class="form-control inputline" placeholder="Vendor Name"
                            formControlName="vendorname">
                        
                    </div>

                    <div class="col-lg-4">
                        
                            <label class="form-label" style="font-weight:bold">{{'purchasedchallan.deldate'|translate}}<span style="color: red;">*</span></label>

                            <input type="date" class="form-control inputline" placeholder="Enter the date"
                                formControlName="deliverydate">
                        
                    </div>

                </div>


                <div class="form-group row">
                    <div class="col-lg-4">
                        
                            <label class="form-label" style="font-weight: bold">{{'purchasedchallan.vendordcno'|translate}}<span style="color: red;">*</span></label>

                            <input type="text" class="form-control inputline" placeholder="Enter Vendor Dc No"
                                formControlName="dist_dcno">

                        
                    </div>
                    <div class="col-lg-4">
                        
                            <label class="form-label" style="font-weight: bold">{{'purchasedchallan.vendorinvno'|translate}}</label>

                            <input type="text" class="form-control inputline"  placeholder="Enter Vendor Inv No"
                                formControlName="dist_invno">

                        
                    </div>


                </div>
            </div><br>
            <!-- </div> -->



            <div class="flow" formArrayName="brandDetails">
                <table aria-describedby="mydesc" class="table styletab">
                    <thead class="stylehead">
                        <tr>
                            <th scope="col"><input type="checkbox" style="height:18px;width:19px" (click)="selectallprod($event)"/></th>
                            <th scope="col">{{'common.sno' | translate}}</th>
                            <th scope="col">{{'common.prodcode' | translate}}</th>
                            <th scope="col" width="auto">{{'common.prodname' | translate}}</th>
                            <th scope="col">{{'common.batchno' | translate}}</th>
                            <th scope="col">{{'purchasedchallan.expdate'|translate}}</th>
                            <th scope="col">{{'purchasedchallan.packtype'|translate}}</th>
                            <th scope="col">{{'purchasedchallan.packqty'|translate}}</th>
                            <th scope="col">{{'purchasedchallan.unitcount'|translate}}</th>
                            <!-- <th scope="col">Per Quantity </th> -->
                            <th scope="col">{{'purchasedchallan.totalqty'|translate}}</th>
                        </tr>
                    </thead>

                    <tbody class="stylebody">

                        <tr *ngFor="let brand of NpdForm.controls.brandDetails.controls; let i = index"
                            [formGroupName]="i">

                            <td>
                                <input type="checkbox" class="checkAll chkboxs" (click) = "selecprod($event,i)" formControlName="prodcheck" id="width1" />
                            </td>

                            <td id="width2">{{i+1}}</td>

                            <td>
                                <input type="text" formControlName="drugproductrefid" id="width4" readonly>
                            </td>
                            <td>
                                <input type="text" formControlName="productname" id="swidth" style="text-align:left" readonly>
                            </td>
                            <td>
                                <input type="text" formControlName="batchname" id="width4" style="text-align:left">
                            </td>
                            <td>
                                <input type="date" formControlName="expirydate" id="width5" style="text-align:left" id="width4" >
                            </td>
                            <td>
                                <input type="text" formControlName="packageunit" id="width3"  >
                            </td>
                            <td>
                                <input type="text" formControlName="boxqty" id="width3"  >
                            </td>
                            <td>
                                <input type="text" formControlName="stripperbox" id="width3"  (blur)="getSum()" >
                            </td>
                            <!-- <td>
                                <input type="text" formControlName="quantityperstrip" id="width3"  (blur)="getSum()" >
                            </td> -->
                            <td>
                                <input type="text" formControlName="totalqty" id="width3"  (blur)="getSum()" >
                            </td>

                        </tr>


                        <tr *ngFor = "let extcolumn of colmn ; let i=index">

                            <td>
                                <input type="text" id="width1" readonly>
                            </td>
                            <td>
                                <input type="text" id="width2" readonly>
                            </td>
                            <td>
                                <input type="text" id="width2" readonly>
                            </td>
                            <td>
                                <input type="text" id="width2" readonly>
                            </td>
                            <td>
                                <input type="text" id="width2" readonly>
                            </td>
                            <td>
                                <input type="text" id="width2" readonly>
                            </td>
                            <td>
                                <input type="text" id="width2" readonly>
                            </td>
                            <td>
                                <input type="text" id="width3" readonly>
                            </td>
                            <td>
                                <input type="text" id="width3" readonly>
                            </td>
                            <td>
                                <input type="text" id="width3" readonly>
                            </td>
                        </tr>


                    </tbody>
                    <tfoot></tfoot>

                </table>

            </div><br>







            <br>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label class="col-form-label labal">{{'purchasedchallan.totalprod' | translate }}</label>
                    <input type="text" class="form-control" placeholder="Products" formControlName="totalproduct"
                        style="width:150px;height:30px" disabled>
                </div>
                <!-- <div class="col-lg-2">
                    <label class="col-form-label labal">Total Quantity</label>
                    <input type="text" class="form-control" placeholder="Quantity" formControlName="totalqty"
                        style="width:150px;height:30px" disabled>
                </div>
                <div class="col-lg-2">
                    <label class="col-form-label labal">Box Quantity</label>
                    <input type="text" class="form-control" placeholder="Box Quantity" formControlName="totalboxqty"
                        style="width:150px;height:30px" disabled>

                </div>
                <div class="col-lg-2">
                    <label class="col-form-label labal">Strip Quantity</label>
                    <input type="text" class="form-control" placeholder="Strip Quantity" formControlName="totalstripqty"
                        style="width:150px;height:30px" disabled>
                </div> -->
                <div class="col-lg-2">
                    <label class="col-form-label labal">{{'purchasedchallan.tabletqty' | translate }}nj</label>
                    <input type="text" class="form-control" placeholder="Table Quantity" formControlName="totalqty"
                        style="width:150px;height:30px" disabled>

                </div>
            </div>
            <div align="center">
                <img src="assets/images/saveload.gif" alt="loading" class="mt-2" *ngIf="saveprocess">
            </div>
            <div class="form-group row">
                <div class="col-lg-4">
                    <button type="button" (click)="onSubmit()" class="btn-round">Save</button>
                </div>
            </div>
        </form>
    </div>
    <div class="panel2" style="width:5%;float:right">
    <app-rightpanel [rightpanelData]="parentMessage"></app-rightpanel>
    </div>
    </div>				 			 			 			 						
</app-card> 
<ng2-toasty [position]="'center-center'"></ng2-toasty>