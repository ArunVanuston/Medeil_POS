<style>
  #swidth{
    width:320px;
  }
</style>
<app-card>
  <div class="sub-title">{{'generatebarcode.emailsettings'| translate}}
    <em class="fa fa-envelope ficon"></em>
  </div> 
  <div class="panels">
  <div class="panel1" style="width:95%;float:left">
    <div class="container">
      <div class="" align="right">
        <button type="button" class="btn-round" [routerLink]="['/GeneralSettings/GeneralSettings']">{{'common.back'| translate}}</button>
      </div><br>
      <form [formGroup]="emailForm">
        <div class="container" align="center">
          <input type="checkbox" formControlName="emailenablecheck" class="paycheck ml-3" (click)="selectemailprocess($event,1)"/>
          <label class="form-label ml-2" for="exampleInput">{{'generatebarcode.emailenabledisable'| translate}}</label>
        
          <input type="checkbox" formControlName="viewemaillogcheck" class="paycheck ml-3" (click)="selectemailprocess($event,2)"/>
          <label class="form-label ml-2" for="exampleInput">{{'generatebarcode.viewemaillogs'| translate}}</label>
        
          <!-- <input type="checkbox" formControlName="emailchart" class="paycheck ml-3" (click)="selectemailprocess($event,3)"/>
          <label class="form-label ml-2" for="exampleInput">SMS Charts</label> -->
        </div><br>   
      <!--Email Enable/Disable Process-->
      <div *ngIf="emailForm.controls.emailenablecheck.value==true" align="center">
        <div class="row">
          <div class="col-xs-2 col-sm-2 col-md-3 col-lg-3 col-xl-3"></div>
          <div class="col-xs-8 col-sm-8 col-md-6 col-lg-6 col-xl-6">
            <!--Length zero Create Settings-->
            <h5 class="text-secondary" *ngIf="emailForm.controls.emailenablearray.controls.length==0">First you Create Default Settings!..</h5>
            <div class="flow mt-2" *ngIf="emailForm.controls.emailenablearray.controls.length==0">
              <table aria-describedby="mydesc" class="table styletab" formArrayName="emailenablearraycreate">
                <thead class="stylehead">
                    <tr>
                        <th scope="col"> {{'common.sno'| translate}}</th>
                        <th scope="col">  {{'generatebarcode.forms'| translate}} </th>
                        <th scope="col"> {{'generatebarcode.enabledisable'| translate}} </th>
                    </tr>
                </thead>
                <tbody class="stylebody">
                    <tr *ngFor="let address of emailForm.controls.emailenablearraycreate.controls; let i=index" [formGroupName]="i">
                        <td> <input type="number" value={{i+1}} id="width1" readonly/> </td>
                        <td> <input type="text" formControlName="formname" id="swidth" style="text-align: left;" readonly/></td>
                        <td><input type="checkbox" class="tabcheck" id="width1" disabled/> </td>
                    </tr>
                    <tr>
                      <td> <input id="width1" readonly/> </td>
                      <td> <input id="swidth" readonly/></td>
                      <td><input id="width1" readonly/> </td>
                  </tr>
                </tbody>
            </table>
             </div>
            
             <!--Length not zero Update Settings-->
            <div class="flow" *ngIf="emailForm.controls.emailenablearray.controls.length>0">
            <table aria-describedby="mydesc" class="table styletab" formArrayName="emailenablearray">
              <thead class="stylehead">
                  <tr>
                    <th scope="col"> {{'common.sno'| translate}}</th>
                    <th scope="col">  {{'generatebarcode.forms'| translate}} </th>
                    <th scope="col"> {{'generatebarcode.enabledisable'| translate}} </th>
                  </tr>
              </thead>
              <tbody class="stylebody">
                  <tr *ngFor="let address of emailForm.controls.emailenablearray.controls; let i=index" [formGroupName]="i">
                      <td> <input type="number" value={{i+1}} id="width1" readonly/> </td>
                      <td> <input type="text" formControlName="formname" id="swidth" style="text-align: left;" readonly/></td>
                      <td><input type="checkbox" class="tabcheck" formControlName="status" id="width1"
                        [attr.checked]="emailForm.controls.emailenablearray.controls[i].controls.status.value==1" /> </td>
                  </tr>
                  <tr>
                    <td> <input id="width1" readonly/> </td>
                    <td> <input id="swidth" readonly/></td>
                    <td><input id="width1" readonly/> </td>
                </tr>
              </tbody>
          </table>
           </div>
           <div class="" align="center">
            <img src="assets/images/saveload.gif" alt="loading" class="mt-2" *ngIf="saveprocess">
           </div><br>
           <div class="" align="right" *ngIf="emailForm.controls.emailenablearray.controls.length==0"><!-- -->
            <button type="button" class="btn-round" (click)="createemailenabledisable()" align="right">{{'common.create'| translate}}</button>
           </div>
           <div class="" align="right" *ngIf="emailForm.controls.emailenablearray.controls.length>0">
            <button type="button" class="btn-round" (click)="updateemailenabledisable()" align="right">{{'common.update'| translate}}</button>
           </div>
          </div>
          <div class="col-xs-2 col-sm-2 col-md-3 col-lg-3 col-xl-3"></div>
        </div>
      </div> <!--Email enable disable end-->
    </form> 
    </div> 
  </div>
  <div class="panel2" style="width:5%;float:right">
  <app-rightpanel [rightpanelData]="parentMessage"></app-rightpanel>
  </div>
  </div>	

  <ng2-toasty [position]="'center-center'"></ng2-toasty>
</app-card>
