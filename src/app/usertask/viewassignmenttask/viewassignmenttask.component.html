<style>
  .label-info {
    background-color: #3498DB;
    color: white;
  }
</style>


<app-card>

  <div class="sub-title">View Assigned Task
    <em  class="fa fa-cog ficon"></em>
  </div>



  <div class="row">

    <div class="col-sm-4">
      <div class="card text-white mh-100 mb-3 mt-1 backgrd" style="width: 20rem;">
        <div class="card-body">
          <em  class="fa fa-users"></em>
          <!-- <h5 class="card-title">Primary card title</h5> -->
          <p class="card-text mt-1">Total Assigned Count All</p>
          <span class="spanalign">{{totTskCot}}</span>
        </div>
      </div>
    </div>


    <div class="col-sm-4">
      <div class="card text-white mh-100 mt-1 backgrd" style="width: 20rem;">
        <div class="card-body">
          <ul>
            <li> Not Started <span class="marginRight"> : {{notStartedCount}} </span> </li>
            <li> Open <span class="marginRight"> : {{openCount}} </span> </li>
            <li> In Progress <span class="marginRight"> : {{inProgressCount}} </span> </li>
            <li> Pending <span class="marginRight"> : {{pendingCount}} </span> </li>
            <li> Complete <span class="marginRight"> : {{completeCount}} </span> </li>
            <li> Abandon <span class="marginRight"> : {{abandonCount}} </span> </li>
          </ul>
          <!-- <h5 class="card-title">Primary card title</h5>
            <p class="card-text mt-1">Total Assigned Count All</p>
            <span class="spanalign">{{33}}</span>-->
        </div>
      </div>


    </div>




    <div class="col-sm-4">
      <div class="card text-white mh-100 mb-3 mt-1 backgrd" style="width: 20rem;">
        <div class="card-body">
          <em  class="feather icon-layers"></em>
          <ul>
            <li> High <span class="marginRight"> : {{countHigh}} </span> </li>
            <li> Medium <span class="marginRight"> : {{countMedium}} </span> </li>
            <li> Low <span class="marginRight"> : {{countLow}} </span> </li>
          </ul>
          <!-- <h5 class="card-title">Primary card title</h5> -->
          <!-- <p class="card-text mt-1">Total Assigned Count All</p>
              <span class="spanalign">{{33}}</span> -->
        </div>
      </div>
    </div>


  </div>


  <div class="col-xs-12 col-sm-12 col-md-12 ml-1">
    <div style="text-align: right;">
      <label>Search:
        <input type="search" [(ngModel)]="filterQuery" class="form-control input-sm full-data-search"
          placeholder="Search Task Number">
      </label>
    </div>
  </div>



  <div style="overflow: auto">
    <table class="table table-striped table-bordered table-responsive full-data-table"
      [mfData]="data | dataFilter : filterQuery" #mf="mfDataTable" [mfRowsOnPage]="rowsOnPage" [(mfSortBy)]="sortBy"
      [(mfSortOrder)]="sortOrder">
      <thead>
        <tr>
          <th scope="col">Task Number</th>
          <!-- <th scope="col">Task Title</th> -->
          <th scope="col">Priority</th>
          <!-- <th scope="col">Assigned By</th> -->
          <th scope="col">Assigned To</th>
          <th scope="col">Task Start Date</th>
          <th scope="col">Task Due Date</th>
          <th scope="col">Completed Date</th>
          <th scope="col">Task Status</th>
          <th scope="col">Employee Remarks</th>
          <!-- <th scope="col">Action</th> -->
          <!-- <th scope="col">Task Details</th> -->

        </tr>
        <tr>
        </tr>
      </thead>
      <tbody>
        <tr *ngIf="(data | dataFilter : filterQuery) == 0 || data == ''|| undefined">
          <td></td>
          <td class="nodata">No matching Records found....</td>
          <td></td>
        </tr>
        <tr *ngFor="let val of mf.data;let i=index">

          <td>{{val[0]}}</td>
          <!-- <td>{{val[1]}}</td> -->
          <td> <span class="badge"
              [ngClass]="{'badge-primary':val[2]=='Medium','badge-success':val[2]=='Low','badge-danger':val[2]=='High'}">{{val[2]}}</span>
          </td>

          <!-- <td>{{val[4]}}</td> -->
          <td>{{val[5]}}</td>
          <td>{{val[6]}}</td>
          <td>{{val[7]}}</td>
          <td>{{val[8]}}</td>

          <td> <span class="badge"
              [ngClass]="{'badge-secondary':val[3]=='Not Started','badge-success':val[3]=='Open','badge-primary':val[3]=='In Progress','badge-warning':val[3]=='Pending','badge-primary':val[3]=='Complete','badge-danger':val[3]=='Abandon' }">{{val[3]}}</span>
          </td>
          <!-- <td>{{val[3]}}</td> -->

          <td> {{val[9]}}</td>
          <!-- <td ngbDropdown class="text-center">
    <a ngbDropdownToggle class="dropdown-toggle addon-btn" data-toggle="dropdown" aria-expanded="true">
      <em  class="icofont icofont-ui-settings"></em>
    </a>
    <div ngbDropdownMenu class="dropdown-menu dropdown-menu-right">
      <a class="dropdown-item" href="javascript:;" [routerLink]="['/usertask/Usertaskdetails',val[0]]"><em
          class="icofont icofont-ui-edit"></em>Edit</a>
      <a class="dropdown-item" href="javascript:;"  (click)="usertask(val[0])"><em  class="icofont icofont-attachment"></em>Delete</a>                           
    </div>
  </td> -->
          <!-- <td >
    <span [routerLink]="['/UserTask/Usertaskdetail',val[9]]"
      class="btn viewbtn">View Usertask</span>
  </td> -->
          <!-- <td ngbDropdown class="text-center">
            <div class="row togglealign">
              <a ngbDropdownToggle class="dropdown-toggle addon-btn" data-toggle="dropdown" aria-expanded="true">
                <em  class="icofont icofont-ui-settings"></em>
              </a>
              <div ngbDropdownMenu class="dropdown-menu dropdown-menu-right">
                <a class="dropdown-item" href="javascript:;" [routerLink]="['/UserTask/Usertaskdetail',val[9]]">
                  <em  class="icofont icofont-list"></em>View</a>

                <!-- <a class="dropdown-item" href="javascript:;" (click)="usertask(val[0])">
                     <em  class="icofont icofont-attachment"></em>Delete</a> 

                <a class="dropdown-item" href="javascript:;" (click)="openRemarksModal($event.target, openRemModal)">
                  <em  class="icofont icofont-attachment"></em>Remarks</a>

                <button class="btn btn-round btnalign" (click)="onComplete(val)">Send Remarks</button>

              </div>
            </div>
          </td> -->

        </tr>
      </tbody>

      <tfoot>
        <tr>
          <td colspan="11">
            <mfBootstrapPaginator class="pagination-main f-right"></mfBootstrapPaginator>
          </td>
        </tr>
      </tfoot>


    </table>

    <ng2-toasty [position]="position"></ng2-toasty>
    <ng-template #openRemModal let-c="close" let-d="dismiss">
      <div class="modal-header">
        <label class="form-label"> Add Remarks</label>
        <em  class="fa fa-times" (click)="closeMod(c)" style="cursor:pointer"></em>
      </div>
      <img src="assets/images/poptab.jpg" class="mt-4 modimg"><br>

      <div class="modal-body mx-5">
        <input class="form-control" [(ngModel)]="remar" maxlength="300" (keydown)="maxlength($event.target.value)"
          placeholder="Please enter remarks...." />

      </div>
      <div class="modal-footer">
        <label class="btn modbtn" id="type" (click)="saveRemarks(c)">Save Remarks</label>

      </div>
    </ng-template>
  </div>

</app-card>
<ng2-toasty [position]="position"></ng2-toasty>