<style>
	.stylelab {
		margin-right: 9px;
		font-size: 20px;
		color: #5aa02c;
		font-family: Montserrat;
		font-weight: bold;
		cursor: pointer;
	}
</style>
<app-card>
	<div class="sub-title">View Drugs Details
		<em class="fa fa-eye ficon"></em>
	</div>
	<div class="panels">
	<div class="panel1" style="width:95%;float:left">
		<div class="searchbox" align="center">
			<div class="" align="right">
				<button type="button" class="btn-round" [routerLink]="['/ProductMaster/AddNewProduct']">Add Drug Master</button>
			</div>
			<input type="text" *ngIf="drugsearch" [(ngModel)]="searchText" (input)="getsearchvalue($event.target.value,1)"
			class="search" placeholder="Search By Product Name..." [value]="searchvalue"/>
		
			<input type="text" *ngIf="genericsearch" [(ngModel)]="searchText" (input)="getsearchvalue($event.target.value,2)"
			class="search" placeholder="Search By Generic Name..." [value]="searchvalue"/>
	
			<form [formGroup]="drugForm">
				<div class="row">
					<div class="col-md-2"></div>
					<div class="col-xs-12 col-sm-12 col-sm-12 col-md-8" align="center">
						<input type="checkbox" formControlName="drugsearch" (click)="check($event,0)" class="searchcheck">
						<label class="form-label mr-3" style="color:brown;font-weight:bold;">Product Search</label>
						<input type="checkbox" formControlName="genericsearch" (click)="check($event,1)" class="searchcheck">
						<label class="form-label" style="color:brown;font-weight:bold;">Generic Search</label>
					</div>
					<div class="col-md-2"></div>
				</div>
			</form>
			<div class="contain">
				<span (click)="getvalue(getval1)" #getval1 [ngStyle]="{'color':'A'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">A</span>
				<span (click)="getvalue(getval2)" #getval2 [ngStyle]="{'color':'B'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">B</span>
				<span (click)="getvalue(getval3)" #getval3 [ngStyle]="{'color':'C'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">C</span>
				<span (click)="getvalue(getval4)" #getval4 [ngStyle]="{'color':'D'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">D</span>
				<span (click)="getvalue(getval5)" #getval5 [ngStyle]="{'color':'E'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">E</span>
				<span (click)="getvalue(getval6)" #getval6 [ngStyle]="{'color':'F'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">F</span>
				<span (click)="getvalue(getval7)" #getval7 [ngStyle]="{'color':'G'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">G</span>
				<span (click)="getvalue(getval8)" #getval8 [ngStyle]="{'color':'H'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">H</span>
				<span (click)="getvalue(getval9)" #getval9 [ngStyle]="{'color':'I'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">I</span>
				<span (click)="getvalue(getval10)" #getval10 [ngStyle]="{'color':'J'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">J</span>
				<span (click)="getvalue(getval11)" #getval11 [ngStyle]="{'color':'K'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">K</span>
				<span (click)="getvalue(getval12)" #getval12 [ngStyle]="{'color':'L'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">L</span>
				<span (click)="getvalue(getval13)" #getval13 [ngStyle]="{'color':'M'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">M</span>
				<span (click)="getvalue(getval14)" #getval14 [ngStyle]="{'color':'N'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">N</span>
				<span (click)="getvalue(getval15)" #getval15 [ngStyle]="{'color':'O'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">O</span>
				<span (click)="getvalue(getval16)" #getval16 [ngStyle]="{'color':'P'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">P</span>
				<span (click)="getvalue(getval17)" #getval17 [ngStyle]="{'color':'Q'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">Q</span>
				<span (click)="getvalue(getval18)" #getval18 [ngStyle]="{'color':'R'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">R</span>
				<span (click)="getvalue(getval19)" #getval19 [ngStyle]="{'color':'S'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">S</span>
				<span (click)="getvalue(getval20)" #getval20 [ngStyle]="{'color':'T'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">T</span>
				<span (click)="getvalue(getval21)" #getval21 [ngStyle]="{'color':'U'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">U</span>
				<span (click)="getvalue(getval22)" #getval22 [ngStyle]="{'color':'V'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">V</span>
				<span (click)="getvalue(getval23)" #getval23 [ngStyle]="{'color':'W'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">W</span>
				<span (click)="getvalue(getval24)" #getval24 [ngStyle]="{'color':'X'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">X</span>
				<span (click)="getvalue(getval25)" #getval25 [ngStyle]="{'color':'Y'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">Y</span>
				<span (click)="getvalue(getval26)" #getval26 [ngStyle]="{'color':'Z'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">Z</span>
		
		
				<span (click)="getvalue(getval00)" #getval00 [ngStyle]="{'color':'0'==bindvalue?'red': '#5aa02c'}"
					class="stylelab ml-3">0</span>
				<span (click)="getvalue(getval01)" #getval01 [ngStyle]="{'color':'1'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">1</span>
				<span (click)="getvalue(getval02)" #getval02 [ngStyle]="{'color':'2'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">2</span>
				<span (click)="getvalue(getval03)" #getval03 [ngStyle]="{'color':'3'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">3</span>
				<span (click)="getvalue(getval04)" #getval04 [ngStyle]="{'color':'4'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">4</span>
				<span (click)="getvalue(getval05)" #getval05 [ngStyle]="{'color':'5'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">5</span>
				<span (click)="getvalue(getval06)" #getval06 [ngStyle]="{'color':'6'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">6</span>
				<span (click)="getvalue(getval07)" #getval07 [ngStyle]="{'color':'7'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">7</span>
				<span (click)="getvalue(getval08)" #getval08 [ngStyle]="{'color':'8'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">8</span>
				<span (click)="getvalue(getval09)" #getval09 [ngStyle]="{'color':'9'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">9</span>
	
	
				<span (click)="getvalue(getvalap)" #getvalap [ngStyle]="{'color':'α'==bindvalue?'red': '#5aa02c'}"
					class="stylelab ml-3">α</span>
				<span (click)="getvalue(getvalba)" #getvalba [ngStyle]="{'color':'β'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">β</span>
				<span (click)="getvalue(getvalca)" #getvalca [ngStyle]="{'color':'γ'==bindvalue?'red': '#5aa02c'}"
					class="stylelab">γ</span>
		
			</div><br>
			<div align="center">
				<img src="assets/images/loading.gif" alt="loading" height="100px" *ngIf="gifFail">
			</div>
			<div class="mr-2" align="right">
				<select class="form-control selectsize mr-1" (change)="countchange($event.target.value)" *ngIf="datatable">
					<option disabled>--Select Count--</option>
					<option value="10">10</option>
					<option value="15">15</option>
					<option value="20">20</option>
				</select>
	
				<select class="form-control selectsize mr-1" (change)="searchcountchange($event.target.value)" *ngIf="searchdatatable">
					<option disabled>--Select Count--</option>
					<option value="10">10</option>
					<option value="15">15</option>
					<option value="20">20</option>
				</select>
			</div><br>
			<div class="dt-responsive" style="overflow: auto;">
				<table id="drug_table" class="table table-striped table-bordered table-responsive full-data-table" aria-describedby="mydesc">
					<thead>
						<tr class="tr_header">
							<th scope="col">S.No</th>
							<th scope="col">Product Code</th>
							<th scope="col">Product Name</th>
							<th scope="col">Generic Name</th>
							<th scope="col">Dosage</th>
							<th scope="col">Formulation</th>
							<!-- <th scope="col">VAT</th> -->
							<!-- <th scope="col">SRP</th> -->
							<th scope="col">Action</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngIf="(data?.content) == 0">
							<td></td>
							<td></td>
							<td></td>
							<td class="nodata">No Data Available</td>
							<td></td>
							<td></td>
							<!-- <td></td> -->
							<td></td>
						</tr><!-- | category : searchText -->
						<tr *ngFor="let item of data?.content | paginate: { id: 'listing_pagination',
					  itemsPerPage: size, currentPage: page, totalItems: totalRec } let i = index">
		
							<td>{{i+1}}</td>
							<td>{{item[8]}}</td>
		
							<td style="text-align:left">{{item[0]}}</td>
		
							<td style="text-align:left">{{item[1]}}</td>
							<td>{{item[3]}}</td>
							<td style="text-align:left">{{item[6]}}</td>
							<!-- <td>{{item[4]}}</td> -->
		
							<!-- <td>{{item[7] | number:'1.2-2'}}</td> -->
		
							<td ngbDropdown class="text-center">
								<a ngbDropdownToggle="" class="dropdown-toggle addon-btn" data-toggle="dropdown"
									aria-expanded="true">
									<em class="icofont icofont-ui-settings"></em>
								</a>
								<div ngbDropdownMenu="" class="dropdown-menu dropdown-menu-right">
									<a class="dropdown-item" href="javascript:;"
									[routerLink]="['/ProductMaster/EditProductMaster',item[8]]" skipLocationChange>
										<em class="icofont icofont-ui-edit"></em>Edit</a>
									<a class="dropdown-item" href="javascript:;" (click)="deleteDrug(item[8])">
										<em class="icofont icofont-delete-alt"></em>Delete</a>
									<div role="separator" class="dropdown-divider"></div>
									<!-- <a class="dropdown-item" href="javascript:;"
										[routerLink]="['/ProductMaster/drugPictures',item[8]]" skipLocationChange>
										<em class="icofont icofont-rotation m-r-10"></em>Add/Change</a> -->
								</div>
								<button type="button" class="viewbtn" (click)="modalLightBox.show()"
									(click)='showImage(item)'>
									<em class="icofont icofont-attachment"></em>view
								</button>
								<app-modal-basic #modalLightBox [hideHeader]="true" [hideFooter]="true">
									<div class="app-modal-body">
										<button type="button" class="close basic-close-light-box"
											(click)="modalLightBox.hide()">
											<span aria-hidden="true">&times;</span>
										</button>
										<h5 class="font-header searchlabel">Image Preview</h5><br><br>
										<p class="" style="font-weight: bold;font-size:18px;color:brown">Brand Name : {{item[0]}}</p><br>
										<p class="" style="font-weight: bold;font-size:24px;color:red">{{noimage}}</p>
										<div class="overflow-container" slimScroll railVisible="true" railColor="#004a6d"
											width="100%" height="280px" size="8px" color="#999" opacity="0.6" allowPageScroll="false">
											<img [src]="drugimgURL" alt="altitem" class="img img-fluid zoom" />
										</div>
										<!--Prescription Upload formControlName="choosephotos"-->
										<div class="" align="center">
											<input type="file" #imageupload class="form-control"
											(change)="drugphotoChange($event)" accept="image/*" style="display:none">
											<span style="color:red">{{errormessage}}</span><br>
											<h4 (click)="savedrugimage()" style="color:green;cursor: pointer;" *ngIf="saveimgprocess"><u>Save Image</u></h4><br>
											<h5 (click)="openfile()" style="color:green;cursor: pointer;"><u>Upload/Change Image</u></h5>
										</div><br>
										
									</div>
								</app-modal-basic>
							</td>
						</tr>
					</tbody>
					<tfoot>
						<tr *ngIf="datatable">
							<td colspan="11">
								<pagination-controls id="listing_pagination" directionLinks="true"
									(pageChange)="page = $event" (pageChange)="pagechange(page = $event)" style="float: right;"></pagination-controls>
							</td>
						</tr>
		
						<tr *ngIf="searchdatatable">
							<td colspan="11">
								<pagination-controls id="listing_pagination" directionLinks="true"
									(pageChange)="page = $event" (pageChange)="searchpagechange(page = $event)" style="float: right;"></pagination-controls>
							</td>
						</tr>
					</tfoot>
				</table>
			</div>
		</div><br>
	</div>
	<div class="panel2" style="width:5%;float:right">
	<app-rightpanel [rightpanelData]="parentMessage"></app-rightpanel>
	</div>
	</div>	
<ng2-toasty [position]="'center-center'"></ng2-toasty>
</app-card>